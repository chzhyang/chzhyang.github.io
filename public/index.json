
[{"content":"","date":"2024-05-23","externalUrl":null,"permalink":"/posts/","section":"Blogs","summary":"","title":"Blogs","type":"posts"},{"content":"FlashAttention: Fast and Memory-Efficient Exact Attention with IO-Awareness\nFlashAttentionç›®çš„ä¸æ˜¯èŠ‚çº¦FLOPsï¼Œè€Œæ˜¯å‡å°‘å¯¹HBMçš„è®¿é—®ã€‚æœªæ”¹å˜åŸæœ‰çš„è®¡ç®—å…¬å¼ï¼Œå› æ­¤æ•´ä½“è®¡ç®—å¤æ‚åº¦å¹¶æœªé™ä½ã€‚\nGPUä¸­å­˜å‚¨å•å…ƒä¸»è¦æœ‰HBMå’ŒSRAMï¼šHBMå®¹é‡å¤§ä½†æ˜¯è®¿é—®é€Ÿåº¦æ…¢ï¼ŒSRAMå®¹é‡å°å´æœ‰ç€è¾ƒé«˜çš„è®¿é—®é€Ÿåº¦ã€‚ä¾‹å¦‚ï¼šA100 GPUæœ‰40-80GBçš„HBMï¼Œå¸¦å®½ä¸º1.5-2.0TB/sï¼›æ¯108ä¸ªæµå¼å¤šæ ¸å¤„ç†å™¨å„æœ‰192KBçš„ç‰‡ä¸ŠSRAMï¼Œå¸¦å®½ä¼°è®¡çº¦ä¸º19TB/sã€‚å¯ä»¥çœ‹å‡ºï¼Œç‰‡ä¸Šçš„SRAMæ¯”HBMå¿«ä¸€ä¸ªæ•°é‡çº§ï¼Œä½†å°ºå¯¸è¦å°è®¸å¤šæ•°é‡çº§ã€‚\nå½“è¾“å…¥åºåˆ—ï¼ˆsequence lengthï¼‰è¾ƒé•¿æ—¶ï¼ŒTransformerçš„è®¡ç®—è¿‡ç¨‹ç¼“æ…¢ä¸”è€—è´¹å†…å­˜ï¼Œè¿™æ˜¯å› ä¸ºself-attentionçš„timeå’Œmemory complexityä¼šéšç€sequence lengthçš„å¢åŠ æˆäºŒæ¬¡å¢é•¿ã€‚\næ ‡å‡†Attentionçš„ä¸­é—´ç»“æœ ğ‘†, ğ‘ƒ é€šå¸¸éœ€è¦é€šè¿‡é«˜å¸¦å®½å†…å­˜ï¼ˆHBMï¼‰è¿›è¡Œå­˜å–ï¼Œä¸¤è€…æ‰€éœ€å†…å­˜ç©ºé—´å¤æ‚åº¦ä¸ºğ‘‚(ğ‘^2), å¯¹HBMåŠå…¶é‡å¤è¯»å†™æ˜¯ä¸€ä¸ªä¸»è¦ç“¶é¢ˆã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åšä¸¤ä»¶ä¸»è¦çš„äº‹æƒ…ï¼š\nåœ¨ä¸è®¿é—®æ•´ä¸ªè¾“å…¥çš„æƒ…å†µä¸‹è®¡ç®— softmax ä¸ä¸ºåå‘ä¼ æ’­å­˜å‚¨å¤§çš„ä¸­é—´ attention çŸ©é˜µ \\(f(a,b,c) = (a^2+b^2+c^2)^3\\) FlashAttention æå‡ºäº†ä¸¤ç§æ–¹æ³•æ¥åˆ†å¸ƒè§£å†³ä¸Šè¿°é—®é¢˜ï¼štiling å’Œ recomputationã€‚\ntiling - æ³¨æ„åŠ›è®¡ç®—è¢«é‡æ–°æ„é€ ï¼Œå°†è¾“å…¥åˆ†å‰²æˆå—ï¼Œå¹¶é€šè¿‡åœ¨è¾“å…¥å—ä¸Šè¿›è¡Œå¤šæ¬¡ä¼ é€’æ¥é€’å¢åœ°æ‰§è¡Œsoftmaxæ“ä½œã€‚ recomputation - å­˜å‚¨æ¥è‡ªå‰å‘çš„ softmax å½’ä¸€åŒ–å› å­ï¼Œä»¥ä¾¿åœ¨åå‘ä¸­å¿«é€Ÿé‡æ–°è®¡ç®—èŠ¯ç‰‡ä¸Šçš„ attentionï¼Œè¿™æ¯”ä»HBMè¯»å–ä¸­é—´çŸ©é˜µçš„æ ‡å‡†æ³¨æ„åŠ›æ–¹æ³•æ›´å¿«ã€‚ ç”±äºé‡æ–°è®¡ç®—å¯¼è‡´FLOPså¢åŠ ï¼Œä½†æ˜¯ç”±äºå¤§é‡å‡å°‘HBMè®¿é—®ï¼ŒFlashAttentionè¿è¡Œé€Ÿåº¦æ›´å¿«\nFlashAttentionçš„FLOPsä¸ºğ‘‚(ğ‘^2ğ‘‘)ï¼Œé™¤äº†inputå’Œoutputï¼Œé¢å¤–éœ€è¦çš„å†…å­˜ä¸ºğ‘‚(ğ‘)ã€‚ FlashAttentionå¯¹HBMè®¿é—®çš„æ¬¡æ•°ä¸ºğ‘‚(ğ‘^2ğ‘‘^2ğ‘€^âˆ’1)\n","date":"2024-05-23","externalUrl":null,"permalink":"/posts/llm/flash_attention/","section":"Blogs","summary":"FlashAttention: Fast and Memory-Efficient Exact Attention with IO-Awareness","title":"Flash Attention","type":"posts"},{"content":"","date":"2024-05-23","externalUrl":null,"permalink":"/tags/llm/","section":"Tags","summary":"","title":"LLM","type":"tags"},{"content":"","date":"2024-05-23","externalUrl":null,"permalink":"/posts/llm/","section":"Blogs","summary":"","title":"LLM","type":"posts"},{"content":"","date":"2024-05-23","externalUrl":null,"permalink":"/tags/nlp/","section":"Tags","summary":"","title":"NLP","type":"tags"},{"content":"","date":"2024-05-23","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"Hi, welcome to my blog.\n","date":"2024-05-23","externalUrl":null,"permalink":"/","section":"Welcome to Blowfish! ğŸ‰","summary":"Hi, welcome to my blog.","title":"Welcome to Blowfish! ğŸ‰","type":"page"},{"content":"class Me: def __init__(self): self.names = \u0026#34;Victor Yang\u0026#34; self.prefer_name = \u0026#34;Victor\u0026#34; # self.MBTI = \u0026#34;INFJ\u0026#34; self.profession = \u0026#34;Programmer\u0026#34; self.hometown = \u0026#34;Shandong, CN\u0026#34; self.current_location = \u0026#34;Beijing, CN\u0026#34; self.grad_school = \u0026#34;USTC\u0026#34; self.undergrad_school = \u0026#34;UPC\u0026#34; self.interests = [\u0026#34;ML\u0026#34;, \u0026#34;AIGC\u0026#34;, \u0026#34;Robot\u0026#34;] self.hoppies = [\u0026#34;Reading\u0026#34;, \u0026#34;Yoga\u0026#34;, \u0026#34;Meditation\u0026#34;, \u0026#34;Taoist\u0026#34;, \u0026#34;Swimming\u0026#34;] Latest updateï¼š 2024-05-19\n","date":"2024-05-19","externalUrl":null,"permalink":"/about/","section":"Welcome to Blowfish! ğŸ‰","summary":"class Me: def __init__(self): self.","title":"About","type":"page"},{"content":"","date":"2022-01-19","externalUrl":null,"permalink":"/tags/docs/","section":"Tags","summary":"","title":"Docs","type":"tags"},{"content":"","date":"2022-01-19","externalUrl":null,"permalink":"/series/documentation/","section":"Series","summary":"","title":"Documentation","type":"series"},{"content":"","date":"2022-01-19","externalUrl":null,"permalink":"/tags/new/","section":"Tags","summary":"","title":"New","type":"tags"},{"content":"","date":"2022-01-19","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":" Blowfish is packed with tons of features. The original aim of Blowfish was to develop a theme that was simple and lightweight. The theme is a fork of Congo and expands its initial vision.\nTailwind CSS 3.0 # Tailwind CSS is at the heart of Blowfish and this release contains the very latest Tailwind CSS version 3. It brings with it performance optimisations and support for some great new CSS features.\nMultilingual support # A highly requested feature, Blowfish is now multilingual! If you publish your content in multiple languages, the site will be built with all the translations available.\nğŸ‡¬ğŸ‡§ ğŸ‡©ğŸ‡ª ğŸ‡«ğŸ‡· ğŸ‡ªğŸ‡¸ ğŸ‡¨ğŸ‡³ ğŸ‡§ğŸ‡· ğŸ‡¹ğŸ‡· ğŸ‡§ğŸ‡© Thanks to submissions from the community, Blowfish has already been translated into twenty-six languages with more to be added over time. By the way, pull requests for new languages are always welcome!\nRTL language support # One of the benefits of the new Tailwind and Multilingual features is the ability to add RTL language support. When enabled, the entire site will reflow content from right-to-left. Every element in the theme has been restyled to ensure it looks great in this mode which aids authors who wish to generate content in RTL languages.\nRTL is controlled on a per-language basis so you can mix and match both RTL and LTR content in your projects and the theme will respond accordingly.\nAutomatic image resizing # A big change in Blowfish 2.0 is the addition of automatic image resizing. Using the power of Hugo Pipes, images in Markdown content are now automatically scaled to different output sizes. These are then presented using HTML srcset attributes enabling optimised file sizes to be served to your site visitors.\n\u0026lt;!-- Markdown: ![My image](image.jpg) --\u0026gt; \u0026lt;img srcset=\u0026#34; /image_320x0_resize_q75_box.jpg 320w, /image_635x0_resize_q75_box.jpg 635w, /image_1024x0_resize_q75_box.jpg 1024w, /image_1270x0_resize_q75_box.jpg 2x\u0026#34; src=\u0026#34;/image_635x0_resize_q75_box.jpg\u0026#34; alt=\u0026#34;My image\u0026#34; /\u0026gt; Best of all there\u0026rsquo;s nothing you need to change! Simply insert standard Markdown image syntax and let the theme do the rest. If you want a little more control, the figure shortcode has been completely rewritten to provide the same resizing benefits.\nSite search # Powered by Fuse.js, site search allows visitors to quickly and easily find your content. All searches are performed client-side meaning there\u0026rsquo;s nothing to configure on the server and queries are performed super fast. Simply enable the feature in your site configuration and you\u0026rsquo;re all set. Oh, and it also supports full keyboard navigation!\nTables of contents # A highly requested feature, Blowfish now supports tables of contents on article pages. You can see it in action on this page. The contents are fully responsive and will adjust to take advantage of the space available at different screen resolutions.\nAvailable on a global or per article basis, the table of contents can be fully customised using standard Hugo configuration values, allowing you to adjust the behaviour to suit your project.\nAccessibility improvements # From adding ARIA descriptions to more items or simply adjusting the contrast of certain text elements, this release is the most accessible yet.\nVersion 2 also introduces \u0026ldquo;skip to content\u0026rdquo; and \u0026ldquo;scroll to top\u0026rdquo; links that enable quick navigation. There\u0026rsquo;s also keyboard shortcuts for enabling items like search without reaching for the mouse.\nThe new image resizing features also provide full control over alt and title elements enabling an accessible experience for all visitors.\nA whole lot more # There\u0026rsquo;s countless other features to explore. From being able to display taxonomies on articles and list pages, to using the new headline author parameter to customise your homepage. There\u0026rsquo;s also improved JSON-LD structured data which further optimises SEO performance.\n","date":"2022-01-19","externalUrl":null,"permalink":"/posts/welcome/","section":"Blogs","summary":"Blowfish is packed with tons of features.","title":"Welcome to Blowfish","type":"posts"},{"content":"This is the advanced tag. Just like other listing pages in Blowfish, you can add custom content to individual taxonomy terms and it will be displayed at the top of the term listing. ğŸš€\nYou can also use these content pages to define Hugo metadata like titles and descriptions that will be used for SEO and other purposes.\n","date":"0001-01-01","externalUrl":null,"permalink":"/tags/advanced/","section":"Tags","summary":"This is the advanced tag.","title":"Advanced","type":"tags"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/posts/_index.zh-cn/","section":"Blogs","summary":"","title":"åšå®¢","type":"posts"},{"content":"","date":"0001-01-01","externalUrl":null,"permalink":"/tags/_index.zh-cn/","section":"Tags","summary":"","title":"æ ‡ç­¾","type":"tags"},{"content":"Hell\n","date":"0001-01-01","externalUrl":null,"permalink":"/_index.zh-cn/","section":"Welcome to Blowfish! ğŸ‰","summary":"Hell","title":"æ¬¢è¿æ¥åˆ° Blowfish! ğŸ‰","type":"page"},{"content":"è¿™æ˜¯é«˜çº§æ ‡è®°ã€‚ç±»ä¼¼å…¶ä»– Blowfish ä¸­çš„å…¶ä»–åˆ—è¡¨é¡µé¢ï¼Œä½ å¯ä»¥åœ¨åˆ†ç±»åˆ—è¡¨é¡µæ·»åŠ è‡ªå®šä¹‰å†…å®¹ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¼šæ˜¾ç¤ºåœ¨é¡¶éƒ¨ã€‚ğŸš€\nä½ ä¹Ÿå¯ä»¥ç”¨è¿™äº›å†…å®¹æ¥å®šä¹‰ Hugo çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚æ ‡é¢˜å’Œæè¿°ã€‚è¿™äº›å†…å®¹å¯ä»¥è¢«ç”¨æ¥å¢å¼º SEO æˆ–å…¶ä»–ç›®çš„ã€‚\n","date":"0001-01-01","externalUrl":null,"permalink":"/tags/advanced/_index.zh-cn/","section":"Tags","summary":"è¿™æ˜¯é«˜çº§æ ‡è®°ã€‚ç±»ä¼¼å…¶ä»– Blowfish ä¸­çš„å…¶ä»–åˆ—è¡¨é¡µé¢ï¼Œä½ å¯ä»¥åœ¨åˆ†ç±»åˆ—è¡¨é¡µæ·»åŠ è‡ªå®šä¹‰å†…å®¹ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¼šæ˜¾ç¤ºåœ¨é¡¶éƒ¨ã€‚ğŸš€","title":"é«˜çº§","type":"tags"}]